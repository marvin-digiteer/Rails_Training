// parchment@3.0.0 downloaded from https://ga.jspm.io/npm:parchment@3.0.0/dist/parchment.js

var t=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(t||{});class Attributor{constructor(e,s,i={}){this.attrName=e,this.keyName=s;const r=t.TYPE&t.ATTRIBUTE;this.scope=i.scope!=null?i.scope&t.LEVEL|r:t.ATTRIBUTE,i.whitelist!=null&&(this.whitelist=i.whitelist)}static keys(t){return Array.from(t.attributes).map((t=>t.name))}add(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)}canAdd(t,e){return this.whitelist==null||(typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class ParchmentError extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const e=class _Registry{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let s=null;try{s=t.parentNode}catch{return null}return this.find(s,e)}return null}create(t,e,s){const i=this.query(e);if(i==null)throw new ParchmentError(`Unable to create ${e} blot`);const r=i,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(s),n=new r(t,o,s);return _Registry.blots.set(n.domNode,n),n}find(t,e=!1){return _Registry.find(t,e)}query(e,s=t.ANY){let i;return typeof e=="string"?i=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?i=this.types.text:typeof e=="number"?e&t.LEVEL&t.BLOCK?i=this.types.block:e&t.LEVEL&t.INLINE&&(i=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some((t=>(i=this.classes[t],!!i))),i=i||this.tags[e.tagName]),i==null?null:"scope"in i&&s&t.LEVEL&i.scope&&s&t.TYPE&i.scope?i:null}register(...t){return t.map((t=>{const e="blotName"in t,s="attrName"in t;if(!e&&!s)throw new ParchmentError("Invalid definition");if(e&&t.blotName==="abstract")throw new ParchmentError("Cannot register abstract class");const i=e?t.blotName:s?t.attrName:void 0;return this.types[i]=t,s?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):e&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map((t=>t.toUpperCase())):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach((e=>{(this.tags[e]==null||t.className==null)&&(this.tags[e]=t)})))),t}))}};e.blots=new WeakMap;let s=e;function match(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((t=>t.indexOf(`${e}-`)===0))}class ClassAttributor extends Attributor{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map((t=>t.split("-").slice(0,-1).join("-")))}add(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0)}remove(t){match(t,this.keyName).forEach((e=>{t.classList.remove(e)})),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(match(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const i=ClassAttributor;function camelize(t){const e=t.split("-"),s=e.slice(1).map((t=>t[0].toUpperCase()+t.slice(1))).join("");return e[0]+s}class StyleAttributor extends Attributor{static keys(t){return(t.getAttribute("style")||"").split(";").map((t=>t.split(":")[0].trim()))}add(t,e){return!!this.canAdd(t,e)&&(t.style[camelize(this.keyName)]=e,!0)}remove(t){t.style[camelize(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[camelize(this.keyName)];return this.canAdd(t,e)?e:""}}const r=StyleAttributor;class AttributorStore{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const e=s.find(this.domNode);if(e==null)return;const o=Attributor.keys(this.domNode),n=i.keys(this.domNode),a=r.keys(this.domNode);o.concat(n).concat(a).forEach((s=>{const i=e.scroll.query(s,t.ATTRIBUTE);i instanceof Attributor&&(this.attributes[i.attrName]=i)}))}copy(t){Object.keys(this.attributes).forEach((e=>{const s=this.attributes[e].value(this.domNode);t.format(e,s)}))}move(t){this.copy(t),Object.keys(this.attributes).forEach((t=>{this.attributes[t].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t)),{})}}const o=AttributorStore,n=class _ShadowBlot{constructor(t,e){this.scroll=t,this.domNode=e,s.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new ParchmentError("Blot definition missing tagName");let e,s;return Array.isArray(this.tagName)?(typeof t=="string"?(s=t.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof t=="number"&&(s=t),e=typeof s=="number"?document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?document.createElement(s):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),s.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(e,s,i,r){const o=this.isolate(e,s);if(this.scroll.query(i,t.BLOT)!=null&&r)o.wrap(i,r);else if(this.scroll.query(i,t.ATTRIBUTE)!=null){const t=this.scroll.create(this.statics.scope);o.wrap(t),t.format(i,r)}}insertAt(t,e,s){const i=s==null?this.scroll.create("text",e):this.scroll.create(e,s),r=this.split(t);this.parent.insertBefore(i,r||void 0)}isolate(t,e){const s=this.split(t);if(s==null)throw new Error("Attempt to isolate at end");return s.split(e),s}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new ParchmentError(`Cannot wrap ${t}`);return s.appendChild(this),s}};n.blotName="abstract";let a=n;const l=class _LeafBlot extends a{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};l.scope=t.INLINE_BLOT;let h=l;const c=h;class LinkedList{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let s=e();for(;s&&t>0;)t-=1,s=e();return s}contains(t){const e=this.iterator();let s=e();for(;s;){if(s===t)return!0;s=e()}return!1}indexOf(t){const e=this.iterator();let s=e(),i=0;for(;s;){if(s===t)return i;i+=1,s=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,s=this.head;for(;s!=null;){if(s===t)return e;e+=s.length(),s=s.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const s=this.iterator();let i=s();for(;i;){const r=i.length();if(t<r||e&&t===r&&(i.next==null||i.next.length()!==0))return[i,t];t-=r,i=s()}return[null,0]}forEach(t){const e=this.iterator();let s=e();for(;s;)t(s),s=e()}forEachAt(t,e,s){if(e<=0)return;const[i,r]=this.find(t);let o=t-r;const n=this.iterator(i);let a=n();for(;a&&o<t+e;){const i=a.length();t>o?s(a,t-o,Math.min(e,o+i-t)):s(a,0,Math.min(i,t+e-o)),o+=i,a=n()}}map(t){return this.reduce(((e,s)=>(e.push(t(s)),e)),[])}reduce(t,e){const s=this.iterator();let i=s();for(;i;)e=t(e,i),i=s();return e}}function makeAttachedBlot(e,s){const i=s.find(e);if(i)return i;try{return s.create(e)}catch{const i=s.create(t.INLINE);return Array.from(e.childNodes).forEach((t=>{i.domNode.appendChild(t)})),e.parentNode&&e.parentNode.replaceChild(i.domNode,e),i.attach(),i}}const d=class _ParentBlot extends a{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach((t=>{t.attach()}))}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,_ParentBlot.uiClass&&this.uiNode.classList.add(_ParentBlot.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new LinkedList,Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode)).reverse().forEach((t=>{try{const e=makeAttachedBlot(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(t){if(t instanceof ParchmentError)return;throw t}}))}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,((t,e,s)=>{t.deleteAt(e,s)}))}descendant(t,e=0){const[s,i]=this.children.find(e);return t.blotName==null&&t(s)||t.blotName!=null&&s instanceof t?[s,i]:s instanceof _ParentBlot?s.descendant(t,i):[null,-1]}descendants(t,e=0,s=Number.MAX_VALUE){let i=[],r=s;return this.children.forEachAt(e,s,((e,s,o)=>{(t.blotName==null&&t(e)||t.blotName!=null&&e instanceof t)&&i.push(e),e instanceof _ParentBlot&&(i=i.concat(e.descendants(t,s,r))),r-=o})),i}detach(){this.children.forEach((t=>{t.detach()})),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach((s=>{e||this.statics.allowedChildren.some((t=>s instanceof t))||(s.statics.scope===t.BLOCK_BLOT?(s.next!=null&&this.splitAfter(s),s.prev!=null&&this.splitAfter(s.prev),s.parent.unwrap(),e=!0):s instanceof _ParentBlot?s.unwrap():s.remove())}))}formatAt(t,e,s,i){this.children.forEachAt(t,e,((t,e,r)=>{t.formatAt(e,r,s,i)}))}insertAt(t,e,s){const[i,r]=this.children.find(t);if(i)i.insertAt(r,e,s);else{const t=s==null?this.scroll.create("text",e):this.scroll.create(e,s);this.appendChild(t)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let s=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(s=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(t.domNode,s),t.attach()}length(){return this.children.reduce(((t,e)=>t+e.length()),0)}moveChildren(t,e){this.children.forEach((s=>{t.insertBefore(s,e)}))}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(t,e=!1){const[s,i]=this.children.find(t,e),r=[[this,t]];return s instanceof _ParentBlot?r.concat(s.path(i,e)):(s!=null&&r.push([s,i]),r)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;return s instanceof _ParentBlot&&this.moveChildren(s),super.replaceWith(s)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(t,this.length(),((t,i,r)=>{const o=t.split(i,e);o!=null&&s.appendChild(o)})),s}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const s=[],i=[];t.forEach((t=>{t.target===this.domNode&&t.type==="childList"&&(s.push(...t.addedNodes),i.push(...t.removedNodes))})),i.forEach((t=>{if(t.parentNode!=null&&t.tagName!=="IFRAME"&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const e=this.scroll.find(t);e!=null&&(e.domNode.parentNode==null||e.domNode.parentNode===this.domNode)&&e.detach()})),s.filter((t=>t.parentNode===this.domNode&&t!==this.uiNode)).sort(((t,e)=>t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((t=>{let e=null;t.nextSibling!=null&&(e=this.scroll.find(t.nextSibling));const s=makeAttachedBlot(t,this.scroll);(s.next!==e||s.next==null)&&(s.parent!=null&&s.parent.removeChild(this),this.insertBefore(s,e||void 0))})),this.enforceAllowedChildren()}};d.uiClass="";let u=d;const m=u;function isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}const p=class _InlineBlot extends m{static create(t){return super.create(t)}static formats(t,e){const s=e.query(_InlineBlot.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new o(this.domNode)}format(e,s){if(e!==this.statics.blotName||s){const i=this.scroll.query(e,t.INLINE);if(i==null)return;i instanceof Attributor?this.attributes.attribute(i,s):s&&(e!==this.statics.blotName||this.formats()[e]!==s)&&this.replaceWith(e,s)}else this.children.forEach((t=>{t instanceof _InlineBlot||(t=t.wrap(_InlineBlot.blotName,!0)),this.attributes.copy(t)})),this.unwrap()}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(e,s,i,r){this.formats()[i]!=null||this.scroll.query(i,t.ATTRIBUTE)?this.isolate(e,s).format(i,r):super.formatAt(e,s,i,r)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const s=this.next;s instanceof _InlineBlot&&s.prev===this&&isEqual(e,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(t,e){const s=super.replaceWith(t,e);return this.attributes.copy(s),s}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&t.type==="attributes"))&&this.attributes.build()}wrap(t,e){const s=super.wrap(t,e);return s instanceof _InlineBlot&&this.attributes.move(s),s}};p.allowedChildren=[p,c],p.blotName="inline",p.scope=t.INLINE_BLOT,p.tagName="SPAN";let f=p;const N=f,b=class _BlockBlot extends m{static create(t){return super.create(t)}static formats(t,e){const s=e.query(_BlockBlot.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new o(this.domNode)}format(e,s){const i=this.scroll.query(e,t.BLOCK);i!=null&&(i instanceof Attributor?this.attributes.attribute(i,s):e!==this.statics.blotName||s?s&&(e!==this.statics.blotName||this.formats()[e]!==s)&&this.replaceWith(e,s):this.replaceWith(_BlockBlot.blotName))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(e,s,i,r){this.scroll.query(i,t.BLOCK)!=null?this.format(i,r):super.formatAt(e,s,i,r)}insertAt(e,s,i){if(i==null||this.scroll.query(s,t.INLINE)!=null)super.insertAt(e,s,i);else{const t=this.split(e);if(t==null)throw new Error("Attempt to insertAt after block boundaries");{const e=this.scroll.create(s,i);t.parent.insertBefore(e,t)}}}replaceWith(t,e){const s=super.replaceWith(t,e);return this.attributes.copy(s),s}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&t.type==="attributes"))&&this.attributes.build()}};b.blotName="block",b.scope=t.BLOCK_BLOT,b.tagName="P",b.allowedChildren=[N,b,c];let A=b;const g=A,y=class _ContainerBlot extends m{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,s,i){super.formatAt(t,e,s,i),this.enforceAllowedChildren()}insertAt(t,e,s){super.insertAt(t,e,s),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};y.blotName="container",y.scope=t.BLOCK_BLOT;let E=y;const B=E;class EmbedBlot extends c{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,s,i){t===0&&e===this.length()?this.format(s,i):super.formatAt(t,e,s,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const v=EmbedBlot,x={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},C=100,L=class _ScrollBlot extends m{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver((t=>{this.update(t)})),this.observer.observe(this.domNode,x),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const s=this.registry.find(t,e);return s?s.scroll===this?s:e?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,s=t.ANY){return this.registry.query(e,s)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach((t=>{t.remove()})):super.deleteAt(t,e)}formatAt(t,e,s,i){this.update(),super.formatAt(t,e,s,i)}insertAt(t,e,s){this.update(),super.insertAt(t,e,s)}optimize(t=[],e={}){super.optimize(e);const s=e.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)t.push(i.pop());const mark=(t,e=!0)=>{t==null||t===this||t.domNode.parentNode!=null&&(s.has(t.domNode)||s.set(t.domNode,[]),e&&mark(t.parent))},optimize=t=>{s.has(t.domNode)&&(t instanceof m&&t.children.forEach(optimize),s.delete(t.domNode),t.optimize(e))};let r=t;for(let e=0;r.length>0;e+=1){if(e>=C)throw new Error("[Parchment] Maximum optimize iterations reached");for(r.forEach((t=>{const e=this.find(t.target,!0);e!=null&&(e.domNode===t.target&&(t.type==="childList"?(mark(this.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach((t=>{const e=this.find(t,!1);mark(e,!1),e instanceof m&&e.children.forEach((t=>{mark(t,!1)}))}))):t.type==="attributes"&&mark(e.prev)),mark(e))})),this.children.forEach(optimize),r=Array.from(this.observer.takeRecords()),i=r.slice();i.length>0;)t.push(i.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const s=new WeakMap;t.map((t=>{const e=this.find(t.target,!0);return e==null?null:s.has(e.domNode)?(s.get(e.domNode).push(t),null):(s.set(e.domNode,[t]),e)})).forEach((t=>{t!=null&&t!==this&&s.has(t.domNode)&&t.update(s.get(t.domNode)||[],e)})),e.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),e),this.optimize(t,e)}};L.blotName="scroll",L.defaultChild=g,L.allowedChildren=[g,B],L.scope=t.BLOCK_BLOT,L.tagName="DIV";let T=L;const I=T,w=class _TextBlot extends c{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,s){s==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,s)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof _TextBlot&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(t,e){t.some((t=>t.type==="characterData"&&t.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};w.blotName="text",w.scope=t.INLINE_BLOT;let O=w;const _=O;export{Attributor,o as AttributorStore,g as BlockBlot,i as ClassAttributor,B as ContainerBlot,v as EmbedBlot,N as InlineBlot,c as LeafBlot,m as ParentBlot,s as Registry,t as Scope,I as ScrollBlot,r as StyleAttributor,_ as TextBlot};

